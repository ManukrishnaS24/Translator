<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload - Sign Translator</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header Section -->
  <div class="header">
    <nav>
      <img src="logo.png" alt="Logo" style="width: 150px; height: auto;">
      <div class="nav-links">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </div>
    </nav>
    <div class="text-box">
      <h1>Upload Image</h1>
      <p>Upload an image to translate signs into text using advanced AI technology.</p>
    </div>
  </div>

  <!-- Upload Section -->
  <div class="campus">
    <h1>Upload Image</h1>
    <p>Select an image to translate hand signs into text.</p>
    <input type="file" id="upload-input" accept="image/*" hidden>
    <button id="upload-btn" class="hero-btn1">Upload Image</button>
    <div class="video-container">
      <canvas id="upload-overlay"></canvas>
      <img id="uploaded-image" style="display: none;" alt="Uploaded Image" />
    </div>
  </div>

  <!-- Footer Section -->
  <footer class="footer">
    <p>Sign Translator &copy; 2025 | Powered by AI</p>
  </footer>

  <script src="script.js"></script>
  <script>
  // Upload image functionality
  const uploadBtn = document.getElementById('upload-btn');
  const uploadInput = document.getElementById('upload-input');
  const uploadedImage = document.getElementById('uploaded-image');

  uploadBtn.addEventListener('click', () => {
    uploadInput.click(); // Trigger the file input click when the button is clicked
  });

  uploadInput.addEventListener('change', async (event) => {
    const file = event.target.files[0];
    if (file) {
      // Display the uploaded image locally
      const reader = new FileReader();
      reader.onload = function (e) {
        uploadedImage.src = e.target.result;
        uploadedImage.style.display = 'block'; // Show uploaded image
      };
      reader.readAsDataURL(file);

      // Send the file to the Flask backend
      const formData = new FormData();
      formData.append('file', file);

      try {
        const response = await fetch('http://127.0.0.1:5000/upload-image', {
          method: 'POST',
          body: formData,
        });

        if (!response.ok) {
          throw new Error('Failed to upload image');
        }

        const result = await response.json();
        alert(`Predicted Letter: ${result.predicted_letter}, Confidence: ${result.confidence}`);
      } catch (error) {
        console.error(error);
        alert('An error occurred while uploading the image.');
      }
    }
  });
  </script>
</body>
</html>
